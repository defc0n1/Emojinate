.user-story{
	position: relative;
	background-color: darken(white, 5%);
	margin-bottom: 1.5rem;
	@include legacy-pie-clearfix;
	@include border-radius(5px);
	@include transition(all 300ms ease-out);

	&.excerpt{
		margin-top: 1.5rem;

		&.off-page{
			@include translateY(30px);
			opacity: 0.0;
		}

		&.active{
			z-index: 600;
			background-color: transparent;

			.story-date, .emoji-string, .story-text, .story-status, .read-more-btn{
				opacity: 0.0;
			}

			.story-title{
				font-size: 3rem;
			}

			.story-header{
				padding: 3rem;
				background-color: darken(white, 5%);
			}
		}

		.story-header{
			background-color: darken(white, 15%);
			padding: .5rem;
		}


	 	.story-title{
	 		font-size: 1.6rem;
	 	}

	 	.emoji-string{
	 		position: relative;
	 		background-color: darken(white, 10%);
	 		padding: 1rem 0rem;
	 		text-align: center;
	 		@include translateY(0);
	 	}

	 	.story-text{
	 		margin-top: 0;
	 		border: 0;
	 	}

	 	.story-author{
	 		font-size: .9rem;
	 	}
	}
}

.story-date, .story-voting{
	position: absolute;
	top: 0px;
	width: 60px;
	padding: 5px;
	color: white;
	font-size: .7rem;
	text-align:center;
	@include transition(all 300ms ease-out);

	&:after{
		content: '';
		position: absolute;
		bottom: -20px;
		@include transition(all 300ms ease-out);
	}
}

.story-date{
	right: -30px;
	background-color: $highlight;

	@media #{$mobile}{
		position: relative;
		text-align: center;
		width: 100%;
		bottom: 0;
		left: 0;
		color: $highlight;	
		background-color: darken(white, 10%);
		left: 0;

		&:after{
			display: none;
		}

		p, a{
			display: inline-block;
		}
	}

	&:after{
		right: 0px;
		border-right: 30px solid transparent;
		border-top: 20px solid darken($highlight, 10%);
	}
}

.story-voting{
	left: -30px;
	background-color: $blue;

	&:after{
		left: 0px;
		border-left: 30px solid transparent;
		border-top: 20px solid darken($blue, 10%);
	}

	&.upvoted{
		background-color: $green;
		color: darken($green, 20%);

		.up-vote-btn{
			border-bottom: 12px solid darken($green, 20%);
		}

		&:after{
			border-left: 30px solid transparent;
			border-top: 20px solid darken($green, 10%);
		}
	}

	@media #{$mobile}{
		position: absolute;
		width: 25px;
		left: -10px;
		padding: 0;

		&:after{
			bottom: -10px;
			border-left: 10px solid transparent;
			border-top: 10px solid darken($blue, 10%);
		}

		&.upvoted{
			&:after{
				border-left: 10px solid transparent;
				border-top: 10px solid darken($green, 10%);
			}
		}
	}
}

.up-vote-btn{
	position: relative;
	display: inline-block;
	width: 0px;
	height: 0px;
	border-bottom: 12px solid white;
	border-left: 8px solid transparent;
	border-right: 8px solid transparent;
	border-top: 12px solid transparent;
	@include transition(all 300ms ease-out);
}

.story-status{
	width: 100%;
	position: relative;
	padding: .5rem;
	@include border-radius(0 0 5px 5px);

	&.published{
		background-color: $highlight;
		color: white;
	}

}

.story-link{
	display: block;
	height: 100%;
	width: 100%;
	text-decoration: underline;
	text-transform: uppercase;
}

.story-header{
	position: relative;
	width: 100%;
	padding: 3rem 0rem;
	background-color: darken(white, 5%);
	@include transition(all 300ms ease-out);

	&.off-page{
		opacity: 0.0;
	}
}

.story-title{
	font-size: 3rem;
	font-weight: 400;
	border: 0;
	background-color: transparent;
	font-family: $serif;
	text-align: center;
	color: $highlight;
	@include transition(all 300ms ease-out);

	&:focus{
		outline: none;
		color: $highlight;
	}
}

.story-author{
	font-size: 1.2rem;
	text-align: center;
	font-family: $sansSerif;
}

.story-body{
	padding: 1rem 0rem;
}

.story-wrapper{
	max-width: 600px;

	&.story-active{
		.dashboard-header{
			@include transition(all 100ms ease-out);
			opacity: 0.0;
		}
	}
}

.story-text{
	margin-top: 1rem;
	padding: 1rem;
	background-color: darken(white, 5%);
	font-family: $sansSerif;
	border: 2px solid darken(white, 5%);

	&:focus{
		outline: none;
		border:2px solid black;
	}

}

.story-save{
	position: relative;
	padding: 1rem 0rem;
}

.emoji-string{
	position: relative;
	padding: 1rem;
	width: 100%;
	background-color: white;
	text-align: center;
	@include transition(all 300ms ease-out 0ms);
}

.emoji{
	@include transition(all 300ms ease-out);

	&.off-page{
		opacity: 0.0;
	}
}